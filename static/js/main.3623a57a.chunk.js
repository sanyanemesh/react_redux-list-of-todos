(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{22:function(e,t,n){e.exports=n(34)},32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),o=n.n(c),u=n(3),l=n(21),i=n(7),s=n(19),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_TODO":return e.filter((function(e){return t.todoId!==e.id}));case"INIT_TODOS":return t.todos;default:return e}},b=n(5),p=function(e){return{type:"SORT_BY",field:e}},E={field:"id",order:"ASC",completed:!0},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_BY":return t.field===e.field?Object(b.a)(Object(b.a)({},e),{},{order:"ASC"===e.order?"DESC":"ASC"}):Object(b.a)(Object(b.a)({},e),{},{field:t.field,order:"ASC"});default:return e}},O=function(e){return e.loading},y=function(e){return e.todos},h=function(e){return e.query},_=function(e){var t=function(){return 0};switch(e.sort.field){case"title":t=function(e,t){return e.title.localeCompare(t.title)};break;case"id":t=function(e,t){return e.id-t.id};break;case"completed":t=function(e,t){return+e.completed-+t.completed};break;case"user":t=function(e,t){return e.user&&t.user?e.user.name.localeCompare(t.user.name):0}}var n=e.todos.filter((function(t){return t.title.includes(e.query)})).sort(t);return"DESC"===e.sort.order&&n.reverse(),n},N=Object(i.combineReducers)({loading:m,todos:f,query:d,sort:v}),g=Object(i.createStore)(N,Object(s.composeWithDevTools)()),S=n(13),j=n.n(S),T=n(20),C=(n(32),function(e){return fetch("".concat("https://mate-academy.github.io/react_dynamic-list-of-todos/api").concat(e,".json")).then((function(e){return e.json()}))}),I=function(e){var t=e.text,n=e.onClick,r=e.disabled,c=void 0!==r&&r;return a.a.createElement("button",{className:"button btn load-btn",type:"button",onClick:n,disabled:c},t)},D=function(){var e=Object(u.b)(),t=Object(u.c)(_);return a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:"list"},t.map((function(t){var n;return a.a.createElement("li",{className:"card",key:t.id},a.a.createElement("br",null),a.a.createElement("span",{className:"card__number"},t.id),a.a.createElement("p",null,a.a.createElement("strong",null,"User: "),a.a.createElement("i",{className:"user__name"},null===(n=t.user)||void 0===n?void 0:n.name)),a.a.createElement("p",null,a.a.createElement("strong",null,"To-do: "),a.a.createElement("i",null,t.title)),a.a.createElement("p",null,a.a.createElement("strong",null,"Complete: "),t.completed?a.a.createElement("span",{className:"todo__done"},"Done"):a.a.createElement("span",{className:"todo__notDone"},"In process")),a.a.createElement(I,{text:"Delete todo",onClick:function(){e({type:"DELETE_TODO",todoId:t.id})}}))}))))},k=function(){var e=Object(u.b)(),t=Object(u.c)(h);return a.a.createElement("div",null,a.a.createElement("button",{className:"btn sort-status-btn",type:"button",onClick:function(){return e(p("completed"))}},"Sort by status"),a.a.createElement("button",{className:"btn sort-title-btn",type:"button",onClick:function(){return e(p("title"))}},"Sort by title"),a.a.createElement("button",{className:"btn sort-user-btn",type:"button",onClick:function(){return e(p("user"))}},"Sort by user"),a.a.createElement("button",{className:"btn reset-btn",type:"button",onClick:function(){return e(p("id"))}},"Reset"),a.a.createElement("input",{className:"input",type:"text",value:t,placeholder:"Search by title",onChange:function(t){var n=t.target;e(function(e){return{type:"SET_QUERY",query:e}}(n.value))}}))},x=function(){var e=Object(T.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/todos");case 2:return t=e.sent,e.next=5,C("/users");case 5:return n=e.sent,e.next=8,new Promise((function(e){return setTimeout(e,1e3)}));case 8:return e.abrupt("return",t.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{user:n.find((function(t){return t.id===e.userId}))||null})})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.b)(),t=Object(u.c)(y),n=Object(u.c)(O),r=Object(u.c)(h);return a.a.createElement("div",{className:"App"},a.a.createElement("h1",{className:"title"},"Redux list of todos"," ",r),t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(k,null),a.a.createElement(D,null)):a.a.createElement(I,{text:n?"Loading...":"Load",disabled:n,onClick:function(){e({type:"START_LOADING"}),x().then((function(t){e(function(e){return{type:"INIT_TODOS",todos:e}}(t))})).finally((function(){e({type:"FINISH_LOADING"})}))}}))},w=function(){return a.a.createElement(u.a,{store:g},a.a.createElement(l.a,null,a.a.createElement(A,null)))};o.a.render(a.a.createElement(w,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.3623a57a.chunk.js.map